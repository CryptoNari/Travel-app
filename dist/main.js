var Client;(()=>{"use strict";var e={r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t);const n=()=>{const e=document.getElementById("tripLocation").value,t=new Date(document.getElementById("startDate").value),n=new Date(document.getElementById("endDate").value),r=new Date;console.log(t.getTime()),console.log(n.getTime()),console.log(Math.ceil((t.getTime()-r.getTime())/864e5));const o={city:e,start:document.getElementById("startDate").value,end:document.getElementById("endDate").value};console.log("::: Form Submitted :::"),fetch("http://localhost:3000/api-req",{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then((e=>e.json())).then((e=>{console.log(e),(e=>{const t=new Date,n=new Date(e.start),r=new Date(e.end);console.log(n.getTime()),console.log(r.getTime());const o=Math.ceil((n.getTime()-t.getTime())/864e5),a=1+Math.ceil((r.getTime()-n.getTime())/864e5),i=document.getElementById("formError"),l=document.getElementById("destWeather"),c=document.getElementById("destForecast"),s=document.getElementById("tripInfo"),d=document.getElementById("tripImage"),m=document.getElementById("tripCount"),g=document.getElementById("tripLength");!0===e.valid?(s.style.display="flex",d.style.backgroundImage=`url(${e.cityImageUrl||e.countryImageUrl})`,d.style.display="flex",d.innerHTML=`\n            <h4>${e.city}, ${e.country}</h4>\n            <p>Current Weather:</p>\n            `,i.innerHTML="",l.innerHTML=`\n            <div class="weather-report">\n                <img src="/img/icons/${e.currentWeather[0].weather.icon}.png" alt="weather-icon.jpg">\n                <p><br>${e.currentWeather[0].weather.description}</p>\n                <p><br>${e.currentWeather[0].temp} °C</p>\n            </div>\n        `,l.style.display="block",g.innerHTML=a,m.innerHTML=o,o<17?c.innerHTML=`\n                <div class="weather-report">\n                    <img src="/img/icons/${e.forecastWeather[o-1].weather.icon}.png" alt="weather-icon.jpg">\n                    <p><br>${e.forecastWeather[o-1].weather.description}</p>\n                    <p><br>${e.forecastWeather[o-1].temp} °C</p>\n                </div>\n            `:(c.innerHTML="Forecast available only up to 16 Days",c.style.textAlign="center")):(i.innerHTML='<span class="errorMsg">Couldn\'t find results for destination! Check your input!</span>',results.innerHTML="")})(e)}))};console.log("client js test"),document.getElementById("addTrip").addEventListener("submit",(e=>{e.preventDefault(),n()})),Client=t})();