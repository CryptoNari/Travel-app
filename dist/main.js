var Client;(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),e.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var r=e.g.document;if(!t&&r&&(r.currentScript&&(t=r.currentScript.src),!t)){var n=r.getElementsByTagName("script");n.length&&(t=n[n.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();var t={};e.r(t);const r=(e,t)=>{let r,n;const p=new Date,i=new Date(e),a=new Date(t),o=Math.ceil((i.getTime()-p.getTime())/864e5),c=1+Math.ceil((a.getTime()-i.getTime())/864e5);return o<0?(n=!1,r="Start Date already passed. Check your input!"):c<1?(n=!1,r="End Date before Start Date. Check your input!"):(n=!0,r=""),{valid:n,start:e,end:t,daysToTrip:o,lengthOfTrip:c,error:r}},n=()=>{const e=document.getElementById("tripLocation").value,t=document.getElementById("startDate").value,n=document.getElementById("endDate").value,p=r(t,n);if(!0===p.valid){const t={city:e,dates:p};fetch("http://localhost:3000/api-req",{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>e.json())).then((e=>{(e=>{const t=document.getElementById("formError"),n=document.getElementById("destWeather"),p=document.getElementById("destForecast"),i=document.getElementById("tripInfo"),a=document.getElementById("tripImage"),o=document.getElementById("tripCount"),c=document.getElementById("tripLength"),s=r(e.start,e.end);!0===e.valid?(i.style.display="flex",a.style.display="flex",n.style.display="block",a.style.backgroundImage=`url(${e.cityImageUrl||e.countryImageUrl})`,a.innerHTML=`\n            <h4>${e.city}, ${e.country}</h4>\n            <p>Current Weather:</p>\n            `,n.innerHTML=`\n            <div class="weather-report">\n                <img src="/img/icons/${e.currentWeather[0].weather.icon}.png" alt="weather-icon.png">\n                <div class="current-trip-weather">\n                    <p>${e.currentWeather[0].weather.description}</p>\n                    <p>${e.currentWeather[0].temp} °C</p>\n                </div>    \n            </div>\n            `,c.innerHTML=s.lengthOfTrip,o.innerHTML=s.daysToTrip,s.daysToTrip<16?p.innerHTML=`\n                <div class="weather-report">\n                    <img src="/img/icons/${e.forecastWeather[s.daysToTrip].weather.icon}.png" alt="weather-icon.png">\n                    <div>\n                        <p>${e.forecastWeather[s.daysToTrip].weather.description}</p>\n                        <p>${e.forecastWeather[s.daysToTrip].temp} °C</p>\n                    </div>       \n                </div>\n                `:(p.innerHTML=`Forecast available in ${s.daysToTrip-15} Day/s`,p.style.textAlign="center"),t.innerHTML=""):(t.innerHTML='<span class="errorMsg">Couldn\'t find results for destination! Check your input!</span>',results.innerHTML="")})(e)}))}else{document.getElementById("formError").innerHTML=p.error}};e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p;document.getElementById("addTrip").addEventListener("submit",(e=>{e.preventDefault(),n()})),Client=t})();